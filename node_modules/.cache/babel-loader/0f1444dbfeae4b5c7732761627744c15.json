{"ast":null,"code":"import _classCallCheck from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"D:\\\\tnew\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"D:\\\\tnew\\\\src\\\\components\\\\TrelloBoard.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { PureComponent } from \"react\";\nimport TrelloList from \"./TrelloList\";\nimport { connect } from \"react-redux\";\nimport TrelloCreate from \"./TrelloCreate\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { sort, setActiveBoard } from \"../actions\";\nimport { Link } from \"react-router-dom\";\nvar ListsContainer = styled.div(_templateObject()); // TODO: Fix performance issue\n\nvar TrelloBoard =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(TrelloBoard, _PureComponent);\n\n  function TrelloBoard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TrelloBoard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TrelloBoard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onDragEnd = function (result) {\n      var destination = result.destination,\n          source = result.source,\n          draggableId = result.draggableId,\n          type = result.type;\n\n      if (!destination) {\n        return;\n      }\n\n      _this.props.dispatch(sort(source.droppableId, destination.droppableId, source.index, destination.index, draggableId, type));\n    };\n\n    return _this;\n  }\n\n  _createClass(TrelloBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // set active trello board here\n      var boardID = this.props.match.params.boardID;\n      this.props.dispatch(setActiveBoard(boardID));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          lists = _this$props.lists,\n          cards = _this$props.cards,\n          match = _this$props.match,\n          boards = _this$props.boards;\n      var boardID = match.params.boardID;\n      var board = boards[boardID];\n\n      if (!board) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"Board not found\");\n      }\n\n      var listOrder = board.lists;\n      return React.createElement(DragDropContext, {\n        onDragEnd: this.onDragEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Go Back\")), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, board.title), React.createElement(Droppable, {\n        droppableId: \"all-lists\",\n        direction: \"horizontal\",\n        type: \"list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, function (provided) {\n        return React.createElement(ListsContainer, Object.assign({}, provided.droppableProps, {\n          ref: provided.innerRef,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), listOrder.map(function (listID, index) {\n          var list = lists[listID];\n\n          if (list) {\n            var listCards = list.cards.map(function (cardID) {\n              return cards[cardID];\n            });\n            return React.createElement(TrelloList, {\n              listID: list.id,\n              key: list.id,\n              title: list.title,\n              cards: listCards,\n              index: index,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            });\n          }\n        }), provided.placeholder, React.createElement(TrelloCreate, {\n          list: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return TrelloBoard;\n}(PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lists: state.lists,\n    cards: state.cards,\n    boards: state.boards\n  };\n};\n\nexport default connect(mapStateToProps)(TrelloBoard);","map":{"version":3,"sources":["D:\\tnew\\src\\components\\TrelloBoard.js"],"names":["React","PureComponent","TrelloList","connect","TrelloCreate","DragDropContext","Droppable","styled","sort","setActiveBoard","Link","ListsContainer","div","TrelloBoard","onDragEnd","result","destination","source","draggableId","type","props","dispatch","droppableId","index","boardID","match","params","lists","cards","boards","board","listOrder","title","provided","droppableProps","innerRef","map","listID","list","listCards","cardID","id","placeholder","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport TrelloList from \"./TrelloList\";\nimport { connect } from \"react-redux\";\nimport TrelloCreate from \"./TrelloCreate\";\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport { sort, setActiveBoard } from \"../actions\";\nimport { Link } from \"react-router-dom\";\n\nconst ListsContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\n// TODO: Fix performance issue\n\nclass TrelloBoard extends PureComponent {\n  componentDidMount() {\n    // set active trello board here\n    const { boardID } = this.props.match.params;\n\n    this.props.dispatch(setActiveBoard(boardID));\n  }\n\n  onDragEnd = result => {\n    const { destination, source, draggableId, type } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    this.props.dispatch(\n      sort(\n        source.droppableId,\n        destination.droppableId,\n        source.index,\n        destination.index,\n        draggableId,\n        type\n      )\n    );\n  };\n\n  render() {\n    const { lists, cards, match, boards } = this.props;\n    const { boardID } = match.params;\n    const board = boards[boardID];\n    if (!board) {\n      return <p>Board not found</p>;\n    }\n    const listOrder = board.lists;\n\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n        <Link to=\"/\"><button>Go Back</button></Link>\n        <h2>{board.title}</h2>\n        <Droppable droppableId=\"all-lists\" direction=\"horizontal\" type=\"list\">\n          {provided => (\n            <ListsContainer\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n            >\n              {listOrder.map((listID, index) => {\n                const list = lists[listID];\n                if (list) {\n                  const listCards = list.cards.map(cardID => cards[cardID]);\n\n                  return (\n                    <TrelloList\n                      listID={list.id}\n                      key={list.id}\n                      title={list.title}\n                      cards={listCards}\n                      index={index}\n                    />\n                  );\n                }\n              })}\n              {provided.placeholder}\n              <TrelloCreate list />\n            </ListsContainer>\n          )}\n        </Droppable>\n      </DragDropContext>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  lists: state.lists,\n  cards: state.cards,\n  boards: state.boards\n});\n\nexport default connect(mapStateToProps)(TrelloBoard);\n"]},"metadata":{},"sourceType":"module"}